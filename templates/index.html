{% extends "layout.html" %}
{% import "advert_preview.html" as form %} 
{% block title %}Etusivu{% endblock %}
{% block content %}
  <body>
    <h1> Etusivu </h1>

    <form action = "/search" method = "POST" >
      <input type = "text" name = "search">
      <input type = "submit" value = "Hae">
    </form>

    <h3> Julkaistut ilmoituset </h3>
    {% for advertisement in advertisements %}
      {{ form.advert_preview(images[loop.index0], advertisement, loop.index) }}
    {% endfor %}
  </body>

  <script>
  var slideIndex = [];
  var slideId = [];
for(i = 1; i<={{images|length}};i++){
    slideIndex.push(1);
    slideId.push("mySlides"+i)
    showSlides(1,i-1);
  }
  function plusSlides(n, no) {
    showSlides(slideIndex[no] += n, no);
  }

  function showSlides(n, no) {
    var i;
    var x = document.getElementsByClassName(slideId[no]);
    if (n > x.length) {slideIndex[no] = 1}    
    if (n < 1) {slideIndex[no] = x.length}
    for (i = 0; i < x.length; i++) {
       x[i].style.display = "none";  
    }
    x[slideIndex[no]-1].style.display = "block";  
  }
  </script>
{% endblock %}
